# Tourism Guide Project - Entrega I

Pontificia Universidad Javeriana  
Administración de Bases de Datos – Proyecto del semestre  

---

## 📖 Descripción del problema

El proyecto consiste en la implementación de una base de datos para el manejo de **ventas virtuales de fotos tomadas en distintos destinos turísticos**.  
A partir del modelo conceptual de entidades de los **paquetes de turismo**, se deben construir tablas y procesos que permitan consultas analíticas (OLAP) sobre los valores cobrados por los guías turísticos en diferentes periodos y ubicaciones.

---

## 📊 Modelo de datos

Un guía puede trabajar en varias ciudades, y cada ciudad puede tener varios guías.  
Las reglas principales del modelo son:

- **Llaves primarias:** Surrogate Keys (`ID NUMBER(10,0) GENERATED BY DEFAULT AS IDENTITY`).  
- **Llaves foráneas:** Definidas según las relaciones entre entidades (`IDXXXXX`).  
- **Llaves naturales:** Declaradas como `UNIQUE`.  
- **Restricciones:**
  - Ningún atributo admite nulos.  
  - `VALORDIA` no puede ser negativo, con valor por defecto `0`.  
  - `FECHA` tiene `SYSDATE` como valor por defecto.  
  - `GENERO` solo admite valores `'M'` o `'F'`.  
  - La PK de `GUIA_CIUDAD` incluye la **fecha**.

### Diagrama del diseño

![Diseño del problema](docs/modelado/disenio.jpg)

---

## 🗂️ Estructura del proyecto
```text
tourismGuideProject/
├─ LICENSE
├─ README.md
├─ data/
│  └─ raw/
│     └─ tempcarga.csv
├─ docs/
│  ├─ entregas/
│  │  └─ ABD_2025_30_Entrega_I_i.docx
│  └─ modelado/
│     └─ disenio.jpg
├─ loader/
│  ├─ control/
│  │  └─ tempcarga.ctl
│  ├─ logs/
│  │  └─ ComandoCMDejecloader.txt
├─ sql/
│  ├─ ddl/
│  │  └─ scriptSQL/
│  ├─ etl/
│  │  ├─ procesoCargarDatosTablasSQL/
│  │  └─ procesoGenerarDatosSQL/
│  └─ staging/
│     └─ tempCargaSQL/

```

---

## 🚀 Actividades realizadas

1. **Modelo denormalizado para OLAP**  
   - Creación de un esquema en estrella para medir los valores cobrados por los guías en distintos periodos y ubicaciones (jerarquía país → ciudad).

2. **Diagrama físico y creación de tablas en Orion**  
   - Definición de tablas con Surrogate Keys como PK.  

3. **Carga inicial de datos**  
   - Creación de una **tabla temporal de staging** con datos generados aleatoriamente.  
   - Desarrollo de **procedimientos almacenados** para cargar las tablas destino desde la tabla temporal.  

4. **Carga con SQL*Loader**  
   - Uso de Oracle SQL*Loader para cargar datos en la tabla temporal a partir de archivos `.ctl` y `.dat`.  

---

## ⚙️ Flujo de carga (ETL)
1. DDL → Crear tablas y restricciones (sql/ddl/scriptSQL/).
2. Staging → Crear tabla temporal (sql/staging/tempCargaSQL/).
3. Carga staging → Usar data/raw/tempcarga.csv con loader/control/tempcarga.ctl y el comando en loader/logs/ComandoCMDejecloader.txt.
4. ETL → Ejecutar:
   - sql/etl/procesoGenerarDatosSQL/ → generación de datos de prueba.
   - sql/etl/procesoCargarDatosTablasSQL/ → carga en dimensiones y hechos.


## 👥 Integrantes

- Katheryn Sofía Guasca  
- Juan Luis Ardila
- Sebastián Mendez
- Nicolás Pedraza 

---
