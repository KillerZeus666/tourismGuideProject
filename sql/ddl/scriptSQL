-- Dimensión de Guía
CREATE TABLE Guia (
    idGuia      INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    nombre      VARCHAR(100),
    genero      VARCHAR(55),
    cedula      INT UNIQUE
);

-- Dimensión de Ciudad
CREATE TABLE Ciudad (
    idCiudad       INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    nombreCiudad   VARCHAR(100) UNIQUE,
    nombrePais     VARCHAR(100)
);

-- Dimensión de Tiempo
CREATE TABLE Tiempo (
    idTiempo   INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    fecha      DATE,
    dia        INT,
    mes        INT,
    anio       INT
);

-- Tabla de Hechos
CREATE TABLE HechosGuiaCiudad (
    idGuia    INT,
    idCiudad  INT,
    idTiempo  INT,
    valorDia  INT,
    CONSTRAINT fk_guia FOREIGN KEY (idGuia) REFERENCES Guia(idGuia),
    CONSTRAINT fk_ciudad FOREIGN KEY (idCiudad) REFERENCES Ciudad(idCiudad),
    CONSTRAINT fk_tiempo FOREIGN KEY (idTiempo) REFERENCES Tiempo(idTiempo)
);
